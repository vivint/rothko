#!/usr/bin/env bash

set -e

if [ ! -z "$ROTH_USAGE" ]; then
	echo "sets up the developer environment to build and run the codebase"
	exit 0
fi

SCRIPTDIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
cd "${SCRIPTDIR}/../ui"

log() {
	echo "---" "$@"
}

log "installing node modules..."

rm -rf node_modules
npm install --save-dev elm

log "installing elm modules..."

ELM="$(npm prefix)/node_modules/.bin/elm"
rm -rf elm-stuff
"${ELM}" package install -y
